function WapLogin(){var A=this;this.login=function(E,F,C,B){var D=arguments.length;if(window["SINA_OUTLOGIN_LAYER"]&&!E){_loginLayer=window["SINA_OUTLOGIN_LAYER"];_loginLayer.set("sso",{entry:"wapsso"}).init();_loginLayer.show();_loginLayer.register("login_success",function(G){A.updateUserInfo(G);switch(D){case 2:F();break;case 3:F(C);break;case 4:F(C,B);break;default:window.location.href=window.location.href;break}});_loginLayer.register("layer_hide",function(){})}return};this.updateUserInfo=function(B){if(!window.__userConfig__){window.__userConfig__={}}__userConfig__.__isLogin=true;__userConfig__.__unick=B.nick,__userConfig__.__uface=B.portrait;if(!window.globalConfig||typeof(globalConfig)!="undefined"){globalConfig={}}globalConfig.isLogin=true;if($("#loginImg").find("img").length>0){$("#loginImg").find("img").attr("src",B.portrait);$("#loginImg").show();$("#loginImg").prev().hide()}if($("#loginImg").length>0){$("#loginImg").append('<img src="'+B.portrait+'">')}return}};